19.5 Topic Analysis with Time Series Context
437
This general approach relies on two specific technical components: a topic
model and a causality measure. The former has already been introduced earlier in
thebook, sowebrieflydiscussthelatter.Therearevariouswaystomeasurecausality
between two time series. The simplest measure is Pearson correlation. Pearson
correlation is one of the most common methods used to measure the correlation
between two variables. It gives us a correlation value in the range of [−1, +1], and
the sign of the output value indicates the orientation of the correlation (which we
will exploit to quantify the impact in the case of a causal relation). We can also
measure the significance of the correlation value. If used directly, the basic Pearson
correlation would have zero lag because it compares values on the same time stamp.
However, we can compute a lagged correlation by shifting one of the input time
series variables by the lag and measuring the Pearson correlation after the shift.
A more common method for causality test on time series data is the Granger
Test. The Granger test performs a statistical significance test with different time
lags by using autoregression to see if one time series has a causal relationship with
another series. Formally, let yt and xt be two time series to be tested, where we
hope to see if xt has Granger causality for yt with a maximum p time lag. The basic
formula for the Granger test is the following:
yt = a0 + a1yt−1 + . . . + apyt−p + b1xt−1 + . . . + bpxt−p.
(19.1)
We then perform an F-test to evaluate if retaining or removing the lagged x terms
would make a statistically significant difference in fitting the data. Because the
Granger test is essentially an F-test, it naturally gives us a significance value of
causality. We can estimate the impact of x on y based on the coefficients of the
xi terms; for example, we can take the average of the xi term coefficients,
�p
i=1 bi
p
,
use it as an “impact value.” The impact values can be used to assign weights to the
selected seed words so that highly correlated words would have a higher probability
in the prior that we pass to topic modeling.
We now show some sample results generated by this approach to illustrate the
applications that it can potentially support. First, we show a sample of causal topics
discovered from a news data set when using two different stock time series as
context in Figure 19.17.
The text data set here is the New York Times news articles in the time period of
June 2000 through December 2011. The time series used is the stock prices of two
companies, American Airlines (AAMRQ) and Apple Inc. (AAPL). If we are to use a
topic model to mine the news data set to discover topics, we would obtain topics
that are neutral to both American Airlines and Apple.
